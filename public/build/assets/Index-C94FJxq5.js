import{_ as J}from"./FilterBar.vue_vue_type_script_setup_true_lang-CmVvVs49.js";import{_ as b}from"./index-DdRYoR76.js";import{_ as g}from"./index-BP8NaMnx.js";import{c as K,_ as R,a as W,b as Y}from"./CardTitle.vue_vue_type_script_setup_true_lang-G1xx1pv-.js";import{_ as tt}from"./CardDescription.vue_vue_type_script_setup_true_lang-C7_bnbMg.js";import{_ as et}from"./CardFooter.vue_vue_type_script_setup_true_lang-Db_MMans.js";import{d as st,e as rt,f as ot,g as h,h as B,X as at,_ as it}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dg9vcmqC.js";import{d as lt,r as dt,b as nt,m as ut,s as y,c,i as r,u as s,v as ct,w as a,g as t,h as v,j as n,t as l,o as d,F as _,q as w,f,n as mt,k as T}from"./app-LMLfy6T_.js";import{L as N,B as C,a as pt,_ as ft}from"./_plugin-vue_export-helper-Cs5A_DpR.js";import{P as S}from"./plus-FDJY4mJO.js";import{Z as gt}from"./zap-BNiA7W6K.js";import{T as j}from"./trending-up-gtAke1Q_.js";import{D as A}from"./download-CbaCTKRJ.js";import{B as k}from"./book-copy-C6aBo-KE.js";import{S as V}from"./star-BhLIgU2w.js";import{A as E,F}from"./file-digit-CM4lMNKC.js";import{G as xt}from"./globe-DDpCIurT.js";import{E as bt}from"./ellipsis-CX87Jk9c.js";import{E as I}from"./eye-DS3jVQrj.js";import{S as ht}from"./square-pen-DUAIRiyq.js";import{T as vt}from"./trash-2-foNQ03DZ.js";import{U as _t}from"./users-DURgrSZU.js";import"./Input.vue_vue_type_script_setup_true_lang-b_XRYuCz.js";import"./utils-DXrZ82kT.js";import"./useForwardExpose-BGfwThGJ.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-D2fS4MRm.js";import"./VisuallyHidden-B-IbK-2_.js";import"./Collection-CHrqpE2f.js";import"./house-JRBk0Cia.js";import"./createLucideIcon-DAteRrvL.js";import"./chevron-up-BIDXjghQ.js";import"./check-B7CcDjx-.js";import"./useFormControl-D4Xw429v.js";import"./file-text-BPA7HujH.js";import"./sparkles-D61fJ1PI.js";import"./shield-BepMESMM.js";import"./user-ZOL3awYl.js";import"./user-x-hj2Z0ddD.js";import"./user-check-b-rzh0b6.js";import"./clock-DEh5UtGW.js";import"./filter-CeXdJk36.js";import"./search-SWqZtPYi.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-BtwHaQnx.js";import"./index-Cs2OOWYa.js";import"./log-out-B30-6VwK.js";import"./Breadcrumbs.vue_vue_type_script_setup_true_lang-bAsAvttd.js";import"./chevron-right-ti3lw4Bb.js";const yt={class:"space-y-8 p-6"},wt={class:"mb-8"},kt={class:"flex items-center justify-between"},$t={class:"mt-2 flex items-center gap-2 text-muted-foreground"},Ct={class:"flex items-center gap-4"},jt={href:"/admin/books/create",class:"flex items-center gap-2"},Dt={class:"flex items-center gap-2 rounded-lg border border-primary/20 bg-primary/10 px-4 py-2 text-primary"},Lt={class:"text-sm font-medium"},Bt={class:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},Tt={class:"group overflow-hidden rounded-xl border border-border bg-card shadow-lg transition-all duration-500 hover:-translate-y-1 hover:border-primary/30 hover:shadow-xl"},Nt={class:"p-6"},St={class:"flex items-center justify-between"},At={class:"text-3xl font-bold text-foreground"},Vt={class:"text-success mt-2 flex items-center gap-1 text-xs"},Et={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 transition-transform duration-300 group-hover:scale-110"},Ft={class:"group overflow-hidden rounded-xl border border-border bg-card shadow-lg transition-all duration-500 hover:-translate-y-1 hover:border-secondary/30 hover:shadow-xl"},It={class:"p-6"},Pt={class:"flex items-center justify-between"},zt={class:"text-3xl font-bold text-foreground"},qt={class:"text-success mt-2 flex items-center gap-1 text-xs"},Gt={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-secondary/10 transition-transform duration-300 group-hover:scale-110"},Mt={class:"group overflow-hidden rounded-xl border border-border bg-card shadow-lg transition-all duration-500 hover:-translate-y-1 hover:border-primary/30 hover:shadow-xl"},Ut={class:"p-6"},Ht={class:"flex items-center justify-between"},Zt={class:"text-3xl font-bold text-foreground"},Ot={class:"text-success mt-2 flex items-center gap-1 text-xs"},Qt={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 transition-transform duration-300 group-hover:scale-110"},Xt={class:"group overflow-hidden rounded-xl border border-border bg-card shadow-lg transition-all duration-500 hover:-translate-y-1 hover:border-secondary/30 hover:shadow-xl"},Jt={class:"p-6"},Kt={class:"flex items-center justify-between"},Rt={class:"text-3xl font-bold text-foreground"},Wt={class:"mt-2 flex items-center gap-1 text-xs text-muted-foreground"},Yt={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-secondary/10 transition-transform duration-300 group-hover:scale-110"},te={class:"text-sm text-muted-foreground"},ee={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},se={key:0,class:"absolute top-4 right-4 z-10"},re={key:1,class:"absolute inset-0 z-20 flex items-center justify-center rounded-2xl bg-background/80 backdrop-blur-md"},oe={class:"flex items-start justify-between gap-3"},ae={class:"min-w-0 flex-1 space-y-2"},ie=["href"],le=["href"],de={class:"flex flex-wrap gap-2"},ne={class:"grid grid-cols-3 gap-3 text-center"},ue={class:"space-y-1 rounded-lg bg-blue-500/10 p-2 transition hover:bg-blue-500/20"},ce={class:"text-sm font-bold"},me={key:0,class:"space-y-1 rounded-lg bg-emerald-500/10 p-2 transition hover:bg-emerald-500/20"},pe={class:"text-sm font-bold"},fe={key:1,class:"space-y-1 rounded-lg bg-gray-500/10 p-2 transition hover:bg-gray-500/20"},ge={class:"space-y-1 rounded-lg bg-purple-500/10 p-2 transition hover:bg-purple-500/20"},xe={class:"text-sm font-bold"},be={class:"space-y-2 text-sm"},he={class:"font-medium text-muted-foreground"},ve={class:"font-mono font-semibold text-foreground"},_e=["href"],ye={key:0,class:"rounded-xl border-2 border-dashed border-border bg-card py-16 text-center"},we={class:"mx-auto max-w-md"},ke={class:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-primary/10 p-4"},$e={class:"mb-6 text-lg text-muted-foreground"},Ce={href:"/admin/books/create",class:"flex items-center gap-2"},je={key:1,class:"flex justify-center"},De={class:"flex gap-2"},Le=lt({__name:"Index",props:{books:{},filters:{},categories:{},stats:{}},setup(u){const P=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Libros",href:"/admin/books"}],x=u,p=dt({search:x.filters.search||"",book_type:x.filters.book_type||"",status:x.filters.status||"",category:x.filters.category||""}),z={module:"books"},q={categories:x.categories},D=nt(()=>{let i=0;return p.value.search&&i++,p.value.category&&i++,p.value.book_type&&i++,p.value.status&&i++,i});ut(p,i=>{y.get("/admin/books",{search:i.search,category:i.category,book_type:i.book_type,status:i.status},{preserveState:!0,replace:!0,preserveScroll:!0})},{deep:!0});function G(){p.value={search:"",category:"",book_type:"",status:""}}function M(i){confirm(`¿Estás seguro de que quieres eliminar el libro "${i.title}"?`)&&y.delete(`/admin/books/${i.id}`)}function U(i){y.patch(`/admin/books/${i.id}/toggle-featured`)}function H(i){y.patch(`/admin/books/${i.id}/toggle-active`)}const Z={digital:"Digital",physical:"Físico",both:"Híbrido"},O={digital:"bg-blue-500/10 text-blue-600 border-blue-200 dark:bg-blue-500/20 dark:text-blue-400 dark:border-blue-800",physical:"bg-emerald-500/10 text-emerald-600 border-emerald-200 dark:bg-emerald-500/20 dark:text-emerald-400 dark:border-emerald-800",both:"bg-purple-500/10 text-purple-600 border-purple-200 dark:bg-purple-500/20 dark:text-purple-400 dark:border-purple-800"},Q={digital:F,physical:k,both:xt},X=i=>i.publisher?.name||"Sin editorial",$=i=>i.categories||[];return(i,e)=>(d(),c(_,null,[r(s(ct),{title:"Gestión de Libros"}),r(it,{breadcrumbs:P},{default:a(()=>[t("div",yt,[t("div",wt,[t("div",kt,[t("div",null,[e[2]||(e[2]=t("h1",{class:"text-3xl font-bold text-foreground"}," Gestión de Libros ",-1)),t("p",$t,[r(s(N),{class:"h-4 w-4 text-primary"}),e[1]||(e[1]=n(" Administra el catálogo completo de libros digitales y físicos ",-1))])]),t("div",Ct,[r(s(g),{"as-child":"",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:a(()=>[t("a",jt,[r(s(S),{class:"h-4 w-4"}),e[3]||(e[3]=n(" Nuevo Libro ",-1))])]),_:1}),t("div",Dt,[r(s(gt),{class:"h-4 w-4 animate-pulse"}),t("span",Lt,l(u.books.data.length)+" Libros",1)])])])]),t("div",Bt,[t("div",Tt,[t("div",Nt,[t("div",St,[t("div",null,[e[5]||(e[5]=t("p",{class:"mb-2 text-sm font-medium text-muted-foreground"}," Total Libros ",-1)),t("p",At,l(u.stats.total_books),1),t("div",Vt,[r(s(j),{class:"h-3 w-3"}),e[4]||(e[4]=t("span",null,"+12% este mes",-1))])]),t("div",Et,[r(s(C),{class:"h-6 w-6 text-primary"})])])]),e[6]||(e[6]=t("div",{class:"h-1 w-0 bg-gradient-to-r from-primary to-primary/60 transition-all duration-500 group-hover:w-full"},null,-1))]),t("div",Ft,[t("div",It,[t("div",Pt,[t("div",null,[e[8]||(e[8]=t("p",{class:"mb-2 text-sm font-medium text-muted-foreground"}," Libros Activos ",-1)),t("p",zt,l(u.stats.active_books),1),t("div",qt,[r(s(j),{class:"h-3 w-3"}),e[7]||(e[7]=t("span",null,"+8% este mes",-1))])]),t("div",Gt,[r(s(C),{class:"h-6 w-6 text-secondary"})])])]),e[9]||(e[9]=t("div",{class:"h-1 w-0 bg-gradient-to-r from-secondary to-secondary/60 transition-all duration-500 group-hover:w-full"},null,-1))]),t("div",Mt,[t("div",Ut,[t("div",Ht,[t("div",null,[e[11]||(e[11]=t("p",{class:"mb-2 text-sm font-medium text-muted-foreground"}," Digitales ",-1)),t("p",Zt,l(u.stats.digital_books),1),t("div",Ot,[r(s(j),{class:"h-3 w-3"}),e[10]||(e[10]=t("span",null,"+25% este mes",-1))])]),t("div",Qt,[r(s(A),{class:"h-6 w-6 text-primary"})])])]),e[12]||(e[12]=t("div",{class:"h-1 w-0 bg-gradient-to-r from-primary to-primary/60 transition-all duration-500 group-hover:w-full"},null,-1))]),t("div",Xt,[t("div",Jt,[t("div",Kt,[t("div",null,[e[13]||(e[13]=t("p",{class:"mb-2 text-sm font-medium text-muted-foreground"}," Físicos ",-1)),t("p",Rt,l(u.stats.physical_books),1),t("div",Wt,[r(s(k),{class:"h-3 w-3"}),t("span",null,l(u.stats.total_physical_copies)+" copias",1)])]),t("div",Yt,[r(s(k),{class:"h-6 w-6 text-secondary"})])])]),e[14]||(e[14]=t("div",{class:"h-1 w-0 bg-gradient-to-r from-secondary to-secondary/60 transition-all duration-500 group-hover:w-full"},null,-1))])]),r(J,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),config:z,data:q},null,8,["modelValue"]),t("div",te," Mostrando "+l(u.books.data.length)+" de "+l(u.books.total)+" libros ",1),t("div",ee,[(d(!0),c(_,null,w(u.books.data,o=>(d(),f(s(K),{key:o.id,class:"group relative overflow-hidden rounded-2xl border border-border bg-card/95 backdrop-blur-sm transition-all duration-300 hover:-translate-y-1 hover:border-primary/40 hover:shadow-2xl"},{default:a(()=>[o.featured?(d(),c("div",se,[r(s(b),{class:"animate-pulse border-0 bg-amber-500 text-white shadow-lg"},{default:a(()=>[r(s(V),{class:"mr-1 h-3.5 w-3.5 fill-current"}),e[15]||(e[15]=n(" Destacado ",-1))]),_:1})])):v("",!0),o.is_active?v("",!0):(d(),c("div",re,[r(s(b),{variant:"destructive",class:"border-0 px-4 py-2 text-lg shadow-md"},{default:a(()=>[r(s(E),{class:"mr-2 h-4 w-4"}),e[16]||(e[16]=n(" Inactivo ",-1))]),_:1})])),r(s(R),{class:"px-5 pt-5 pb-3"},{default:a(()=>[t("div",oe,[t("div",ae,[r(s(b),{class:mt([O[o.book_type],"border font-semibold shadow-sm"])},{default:a(()=>[(d(),f(T(Q[o.book_type]),{class:"mr-1 h-3.5 w-3.5"})),n(" "+l(Z[o.book_type]),1)]),_:2},1032,["class"]),r(s(W),{class:"line-clamp-2 text-xl leading-snug font-bold transition-colors duration-200 group-hover:text-primary"},{default:a(()=>[n(l(o.title),1)]),_:2},1024),r(s(tt),{class:"flex items-center gap-2 text-sm text-muted-foreground"},{default:a(()=>[r(s(pt),{class:"h-4 w-4 text-muted-foreground/80"}),n(" "+l(X(o)),1)]),_:2},1024)]),r(s(st),null,{default:a(()=>[r(s(rt),{"as-child":""},{default:a(()=>[r(s(g),{variant:"ghost",size:"icon",class:"h-9 w-9 rounded-full opacity-0 transition-opacity duration-200 group-hover:opacity-100 hover:bg-primary/10"},{default:a(()=>[r(s(bt),{class:"h-4 w-4"})]),_:1})]),_:1}),r(s(ot),{align:"end",class:"w-52 shadow-lg"},{default:a(()=>[r(s(h),{"as-child":""},{default:a(()=>[t("a",{href:`/admin/books/${o.id}`,class:"flex cursor-pointer items-center text-foreground hover:text-primary"},[r(s(I),{class:"mr-2 h-4 w-4 text-blue-500"}),e[17]||(e[17]=n(" Ver detalles ",-1))],8,ie)]),_:2},1024),r(s(h),{"as-child":""},{default:a(()=>[t("a",{href:`/admin/books/${o.id}/edit`,class:"flex cursor-pointer items-center text-foreground hover:text-emerald-600"},[r(s(ht),{class:"mr-2 h-4 w-4 text-emerald-500"}),e[18]||(e[18]=n(" Editar libro ",-1))],8,le)]),_:2},1024),r(s(B)),r(s(h),{onClick:m=>U(o),class:"cursor-pointer"},{default:a(()=>[r(s(V),{class:"mr-2 h-4 w-4 text-amber-500"}),n(" "+l(o.featured?"Quitar destacado":"Destacar libro"),1)]),_:2},1032,["onClick"]),r(s(h),{onClick:m=>H(o),class:"cursor-pointer"},{default:a(()=>[(d(),f(T(o.is_active?s(E):s(C)),{class:"mr-2 h-4 w-4 text-orange-500"})),n(" "+l(o.is_active?"Desactivar":"Activar"),1)]),_:2},1032,["onClick"]),r(s(B)),r(s(h),{onClick:m=>M(o),class:"cursor-pointer text-destructive focus:text-destructive"},{default:a(()=>[r(s(vt),{class:"mr-2 h-4 w-4"}),e[19]||(e[19]=n(" Eliminar libro ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024),r(s(Y),{class:"space-y-4 px-5 pb-5"},{default:a(()=>[t("div",de,[(d(!0),c(_,null,w($(o).slice(0,2),m=>(d(),f(s(b),{key:m.id,variant:"outline",class:"rounded-full border-secondary/20 bg-secondary/10 px-2.5 py-0.5 text-xs text-foreground"},{default:a(()=>[n(l(m.name),1)]),_:2},1024))),128)),$(o).length>2?(d(),f(s(b),{key:0,variant:"outline",class:"rounded-full bg-muted text-xs text-muted-foreground"},{default:a(()=>[n(" +"+l($(o).length-2),1)]),_:2},1024)):v("",!0)]),t("div",ne,[t("div",ue,[r(s(A),{class:"mx-auto h-4 w-4 text-blue-600"}),t("p",ce,l(o.downloads_count||0),1),e[20]||(e[20]=t("p",{class:"text-xs text-muted-foreground"}," Descargas ",-1))]),o.book_type!=="digital"?(d(),c("div",me,[r(s(k),{class:"mx-auto h-4 w-4 text-emerald-600"}),t("p",pe,l(o.physical_copies_count||0),1),e[21]||(e[21]=t("p",{class:"text-xs text-muted-foreground"}," Copias ",-1))])):(d(),c("div",fe,[r(s(F),{class:"mx-auto h-4 w-4 text-gray-600"}),e[22]||(e[22]=t("p",{class:"text-sm font-bold text-foreground"}," Digital ",-1)),e[23]||(e[23]=t("p",{class:"text-xs text-muted-foreground"}," Solo ",-1))])),t("div",ge,[r(s(_t),{class:"mx-auto h-4 w-4 text-purple-600"}),t("p",xe,l(o.loans_count||0),1),e[24]||(e[24]=t("p",{class:"text-xs text-muted-foreground"}," Préstamos ",-1))])]),t("div",be,[(d(!0),c(_,null,w({ISBN:o.isbn||"N/A",Páginas:o.pages||0,Año:o.publication_year||"N/A"},(m,L)=>(d(),c("div",{key:L,class:"flex items-center justify-between rounded-lg bg-muted/40 p-2 transition hover:bg-muted/60"},[t("span",he,l(L)+":",1),t("span",ve,l(m),1)]))),128))])]),_:2},1024),r(s(et),{class:"px-5 pt-0 pb-5"},{default:a(()=>[r(s(g),{"as-child":"",variant:"outline",class:"w-full border-primary/20 transition-all duration-200 hover:bg-primary hover:text-white"},{default:a(()=>[t("a",{href:`/admin/books/${o.id}`,class:"flex items-center justify-center gap-2"},[r(s(I),{class:"h-4 w-4"}),e[25]||(e[25]=n(" Ver Detalles ",-1))],8,_e)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),u.books.data.length===0?(d(),c("div",ye,[t("div",we,[t("div",ke,[r(s(N),{class:"h-10 w-10 text-primary"})]),e[28]||(e[28]=t("h3",{class:"mb-3 text-2xl font-bold text-foreground"}," No se encontraron libros ",-1)),t("p",$e,l(D.value>0?"Intenta ajustar tus filtros de búsqueda":"Comienza agregando el primer libro al catálogo"),1),D.value===0?(d(),f(s(g),{key:0,"as-child":"",class:"inline-flex items-center gap-2 rounded-lg bg-primary px-6 py-3 text-primary-foreground transition-colors hover:bg-primary/90"},{default:a(()=>[t("a",Ce,[r(s(S),{class:"h-5 w-5"}),e[26]||(e[26]=n(" Crear Primer Libro ",-1))])]),_:1})):(d(),f(s(g),{key:1,variant:"outline",onClick:G,class:"border-primary/20 text-primary hover:bg-primary hover:text-primary-foreground"},{default:a(()=>[r(s(at),{class:"mr-2 h-4 w-4"}),e[27]||(e[27]=n(" Limpiar Filtros ",-1))]),_:1}))])])):v("",!0),u.books.data.length>0?(d(),c("div",je,[t("div",De,[(d(!0),c(_,null,w(u.books.links,(o,m)=>(d(),f(s(g),{key:m,href:o.url,disabled:!o.url,variant:o.active?"default":"outline",size:"sm",class:"rounded-lg font-medium",innerHTML:o.label,"preserve-scroll":""},null,8,["href","disabled","variant","innerHTML"]))),128))])])):v("",!0)])]),_:1})],64))}}),ks=ft(Le,[["__scopeId","data-v-c1c787c0"]]);export{ks as default};
