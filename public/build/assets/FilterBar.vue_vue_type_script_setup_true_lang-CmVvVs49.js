import{_ as G}from"./index-DdRYoR76.js";import{_ as X}from"./index-BP8NaMnx.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang-b_XRYuCz.js";import{a as H,b as J,c as K,d as T,_ as Q}from"./SelectValue.vue_vue_type_script_setup_true_lang-D2fS4MRm.js";import{F as R}from"./file-text-BPA7HujH.js";import{B as W}from"./book-copy-C6aBo-KE.js";import{G as Y}from"./globe-DDpCIurT.js";import{B as U,a as C,L as Z}from"./_plugin-vue_export-helper-Cs5A_DpR.js";import{S as h}from"./sparkles-D61fJ1PI.js";import{U as S}from"./users-DURgrSZU.js";import{S as $}from"./shield-BepMESMM.js";import{U as I}from"./user-ZOL3awYl.js";import{I as ee,U as ae}from"./user-x-hj2Z0ddD.js";import{U as B}from"./user-check-b-rzh0b6.js";import{C as D}from"./clock-DEh5UtGW.js";import{F as f}from"./filter-CeXdJk36.js";import{X as oe}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dg9vcmqC.js";import{S as j}from"./search-SWqZtPYi.js";import{d as se,r as te,b as F,m as le,c as d,g as r,h as v,f as u,i,u as l,t as n,w as m,j as b,F as x,q as w,k as y,o as s}from"./app-LMLfy6T_.js";const re={class:"rounded-xl border border-border bg-card shadow-lg"},ce={class:"space-y-6 p-6"},ie={class:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center"},ne={class:"flex items-center gap-2"},de={class:"text-lg font-semibold text-foreground"},ue={class:"text-sm text-muted-foreground"},pe={class:"relative"},me={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},be={class:"flex items-center gap-2 text-sm font-medium text-foreground"},fe={class:"flex items-center gap-2"},ve={class:"flex items-center gap-2"},_e={class:"flex items-center gap-2"},he={key:0,class:"border-t border-border pt-4"},ye={class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},ge={key:0,class:"flex items-center gap-1 rounded bg-primary/10 px-2 py-1 text-xs text-primary"},xe={key:0,class:"flex items-center gap-1 rounded bg-secondary/10 px-2 py-1 text-xs text-secondary"},Ge=se({__name:"FilterBar",props:{modelValue:{},config:{},data:{}},emits:["update:modelValue"],setup(q,{emit:N}){const p=q,A=N,t=te((o=>{const a={};return Object.keys(o).forEach(e=>{a[e]=o[e]===""||o[e]===null||o[e]===void 0?"_all":o[e]}),a})(p.modelValue)),V=F(()=>({users:{title:"Filtros y Búsqueda",description:"Encuentra usuarios específicos en el sistema",searchPlaceholder:"Buscar por nombre, email, DNI o código institucional...",filters:[{key:"user_type",label:"Tipo de Usuario",type:"select",placeholder:"Todos los tipos",icon:S,options:[{value:"student",label:"Estudiante",icon:S},{value:"teacher",label:"Docente",icon:$},{value:"external",label:"Externo",icon:I},{value:"librarian",label:"Bibliotecario",icon:ee},{value:"admin",label:"Administrador",icon:$}]},{key:"status",label:"Estado",type:"select",placeholder:"Todos los estados",icon:B,options:[{value:"active",label:"Activos",icon:B},{value:"inactive",label:"Inactivos",icon:ae}]},{key:"membership_status",label:"Membresía",type:"select",placeholder:"Estado membresía",icon:D,options:[{value:"active",label:"Membresía Activa",icon:B},{value:"expired",label:"Membresía Expirada",icon:D}]}]},books:{title:"Filtros y Búsqueda",description:"Encuentra libros específicos en el catálogo",searchPlaceholder:"Buscar por título, ISBN, autor o editorial...",filters:[{key:"book_type",label:"Tipo de Libro",type:"select",placeholder:"Todos los tipos",icon:U,options:[{value:"digital",label:"Digital",icon:R},{value:"physical",label:"Físico",icon:W},{value:"both",label:"Híbrido",icon:Y}]},{key:"status",label:"Estado",type:"select",placeholder:"Todos los estados",icon:h,options:[{value:"active",label:"Activos",icon:h},{value:"inactive",label:"Inactivos",icon:U},{value:"featured",label:"Destacados",icon:h}]},{key:"category",label:"Categoría",type:"select",placeholder:"Todas las categorías",icon:C,options:p.data?.categories?.map(a=>({value:a.id.toString(),label:a.name,icon:C}))||[]}]},categories:{title:"Filtros y Búsqueda",description:"Encuentra categorías específicas",searchPlaceholder:"Buscar por nombre de categoría...",filters:[{key:"status",label:"Estado",type:"select",placeholder:"Todos los estados",icon:h,options:[{value:"active",label:"Activas",icon:h},{value:"inactive",label:"Inactivas",icon:Z}]}]}})[p.config.module]||{title:"Filtros y Búsqueda",description:"Filtra y busca elementos",searchPlaceholder:"Buscar...",filters:[]}),_=F(()=>({...V.value,...p.config,filters:p.config.filters?.length?p.config.filters:V.value.filters})),g=F(()=>{let o=0;return Object.values(t.value).forEach(a=>{a!==""&&a!==null&&a!==void 0&&a!=="_all"&&o++}),o});function L(o,a){let e;return function(...c){clearTimeout(e),e=window.setTimeout(()=>o.apply(this,c),a)}}const O=L(o=>{const a={};Object.keys(o).forEach(e=>{a[e]=o[e]==="_all"?"":o[e]}),A("update:modelValue",a)},300);le(t,o=>{O(o)},{deep:!0});function P(){const o={};Object.keys(t.value).forEach(a=>{o[a]=a==="search"?"":"_all"}),t.value=o}function E(o,a){return!a||a==="_all"?o.placeholder||"":o.key==="category"&&p.data?.categories?p.data.categories.find(M=>M.id.toString()===a)?.name||a:o.options?.find(c=>c.value===a)?.label||a}function k(o,a){return!a||a==="_all"?o.icon||f:o.options?.find(c=>c.value===a)?.icon||o.icon||f}return(o,a)=>(s(),d("div",re,[r("div",ce,[r("div",ie,[r("div",ne,[i(l(f),{class:"h-4 w-4 text-muted-foreground"}),r("div",null,[r("h3",de,n(_.value.title),1),r("p",ue,n(_.value.description),1)]),g.value>0?(s(),u(l(G),{key:0,variant:"secondary",class:"border-primary/20 bg-primary/10 text-primary"},{default:m(()=>[b(n(g.value)+" activos ",1)]),_:1})):v("",!0)]),g.value>0?(s(),u(l(X),{key:0,variant:"outline",size:"sm",onClick:P,class:"border-primary/20 text-primary hover:bg-primary hover:text-primary-foreground"},{default:m(()=>[i(l(oe),{class:"mr-1 h-4 w-4"}),a[1]||(a[1]=b(" Limpiar ",-1))]),_:1})):v("",!0)]),r("div",pe,[i(l(j),{class:"absolute top-3 left-3 h-4 w-4 text-muted-foreground"}),i(l(z),{modelValue:t.value.search,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.search=e),placeholder:_.value.searchPlaceholder,class:"border-border bg-background pl-10 focus:border-primary"},null,8,["modelValue","placeholder"])]),r("div",me,[(s(!0),d(x,null,w(_.value.filters,e=>(s(),d("div",{key:e.key,class:"space-y-2"},[r("label",be,[(s(),u(y(k(e,t.value[e.key])),{class:"h-4 w-4 text-primary"})),b(" "+n(e.label),1)]),e.type==="select"?(s(),u(l(Q),{key:0,modelValue:t.value[e.key],"onUpdate:modelValue":c=>t.value[e.key]=c},{default:m(()=>[i(l(H),{class:"border-border bg-background focus:border-primary"},{default:m(()=>[i(l(J),{placeholder:e.placeholder},{default:m(()=>[r("span",fe,[(s(),u(y(k(e,t.value[e.key])),{class:"h-3 w-3"})),b(" "+n(E(e,t.value[e.key])),1)])]),_:2},1032,["placeholder"])]),_:2},1024),i(l(K),null,{default:m(()=>[i(l(T),{value:"_all"},{default:m(()=>[r("span",ve,[(s(),u(y(e.icon||l(f)),{class:"h-3 w-3"})),b(" "+n(e.placeholder),1)])]),_:2},1024),(s(!0),d(x,null,w(e.options,c=>(s(),u(l(T),{key:c.value,value:c.value},{default:m(()=>[r("span",_e,[(s(),u(y(c.icon||e.icon||l(f)),{class:"h-3 w-3"})),b(" "+n(c.label),1)])]),_:2},1032,["value"]))),128))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])):v("",!0)]))),128))]),g.value>0?(s(),d("div",he,[r("div",ye,[i(l(f),{class:"h-4 w-4"}),a[2]||(a[2]=r("span",null,"Filtros activos:",-1)),(s(!0),d(x,null,w(_.value.filters,e=>(s(),d(x,{key:e.key},[t.value[e.key]&&t.value[e.key]!=="_all"?(s(),d("span",ge,[(s(),u(y(k(e,t.value[e.key])),{class:"h-3 w-3"})),b(" "+n(e.label)+": "+n(E(e,t.value[e.key])),1)])):v("",!0)],64))),128)),t.value.search?(s(),d("span",xe,[i(l(j),{class:"h-3 w-3"}),b(' Búsqueda: "'+n(t.value.search)+'" ',1)])):v("",!0)])])):v("",!0)])]))}});export{Ge as _};
