import{d as k,r as V,c as n,i as s,u as i,v as S,w as c,g as r,l as f,t as m,y as O,H as l,I as g,o as u,F as p,q as v,L as x,j as b,h as E,M as U,s as D}from"./app-2QXCfeMG.js";import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-D0s4Pvhb.js";import{A as M}from"./arrow-left-CWKWrJMG.js";import{C as $,a as j}from"./chevron-up-CHNXZ96O.js";import{S as q}from"./save--6ZqpbE4.js";import"./utils-BtbbqlUx.js";import"./useForwardExpose-WdC8WNUR.js";import"./VisuallyHidden-BVvg5NBU.js";import"./house-Jt9P1-Sj.js";import"./createLucideIcon-CganvotL.js";import"./Collection-p-5Ft2RQ.js";import"./index-ByX7PKqW.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-Bsye0hv5.js";import"./index-Cs2OOWYa.js";import"./log-out-BvlH2FDg.js";import"./AppLogoPng.vue_vue_type_script_setup_true_lang-DV5UP9ty.js";import"./clock-7_ft3SL5.js";import"./_plugin-vue_export-helper-D6Za-jf_.js";import"./users-BtwuLIeb.js";import"./Breadcrumbs.vue_vue_type_script_setup_true_lang-DAJcy_Cp.js";import"./chevron-right-CD5--JLw.js";const A={class:"mx-auto max-w-4xl p-6"},L={class:"mb-8"},z={class:"mb-4 flex items-center gap-4"},B={class:"mt-2 text-muted-foreground"},P={class:"rounded-xl border border-border bg-card p-6 shadow-lg"},F={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},I={class:"space-y-2"},T={class:"space-y-2"},H={class:"space-y-2"},G=["value"],J={class:"space-y-2"},K={class:"flex items-center gap-2"},Q=["disabled"],R=["value","selected"],W={key:0},X=["disabled"],Y={class:"space-y-2"},Z={class:"flex items-center gap-2"},ee={class:"flex items-center justify-end gap-4 border-t border-border pt-6"},re={type:"submit",class:"flex items-center gap-2 rounded-lg bg-primary px-6 py-2 text-primary-foreground shadow-lg shadow-primary/25 transition-colors hover:bg-primary/90"},Ve=k({__name:"Edit",props:{category:{},parentCategories:{},availableOrders:{},maxSortOrder:{}},setup(d){const a=d,y=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Categorías",href:"/admin/categories"},{title:`Editar: ${a.category.name}`,href:`/admin/categories/${a.category.id}/edit`}],o=V({name:a.category.name,slug:a.category.slug,description:a.category.description,parent_id:a.category.parent_id,sort_order:a.category.sort_order,is_active:a.category.is_active,image:a.category.image,meta_title:a.category.meta_title,meta_description:a.category.meta_description}),_=()=>{D.put(`/admin/categories/${a.category.id}`,o.value)},w=()=>{o.value.slug||(o.value.slug=o.value.name.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"))},C=()=>{o.value.sort_order<a.maxSortOrder&&o.value.sort_order++},h=()=>{o.value.sort_order>1&&o.value.sort_order--};return(oe,e)=>(u(),n(p,null,[s(i(S),{title:`Editar: ${d.category.name}`},null,8,["title"]),s(N,{breadcrumbs:y},{default:c(()=>[r("div",A,[r("div",L,[r("div",z,[s(i(f),{href:"/admin/categories",class:"rounded-lg p-2 text-muted-foreground transition-colors hover:bg-accent hover:text-foreground"},{default:c(()=>[s(i(M),{class:"h-5 w-5"})]),_:1}),r("div",null,[e[6]||(e[6]=r("h1",{class:"text-3xl font-bold text-foreground"}," Editar Categoría ",-1)),r("p",B,' Actualiza la información de "'+m(d.category.name)+'" ',1)])])]),r("div",P,[r("form",{onSubmit:O(_,["prevent"]),class:"space-y-6"},[r("div",F,[r("div",I,[e[7]||(e[7]=r("label",{for:"name",class:"block text-sm font-medium text-foreground"}," Nombre de la Categoría * ",-1)),l(r("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.name=t),type:"text",required:"",onInput:w,class:"w-full rounded-lg border border-border bg-background px-3 py-2 text-foreground focus:border-transparent focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Ej: Ciencias de la Computación"},null,544),[[g,o.value.name]])]),r("div",T,[e[8]||(e[8]=r("label",{for:"slug",class:"block text-sm font-medium text-foreground"}," Slug * ",-1)),l(r("input",{id:"slug","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.slug=t),type:"text",required:"",class:"w-full rounded-lg border border-border bg-background px-3 py-2 font-mono text-foreground focus:border-transparent focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Ej: ciencias-computacion"},null,512),[[g,o.value.slug]])]),r("div",H,[e[10]||(e[10]=r("label",{for:"parent_id",class:"block text-sm font-medium text-foreground"}," Categoría Padre ",-1)),l(r("select",{id:"parent_id","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.parent_id=t),class:"w-full rounded-lg border border-border bg-background px-3 py-2 text-foreground focus:border-transparent focus:ring-2 focus:ring-primary focus:outline-none"},[e[9]||(e[9]=r("option",{value:null}," Ninguna (Categoría Principal) ",-1)),(u(!0),n(p,null,v(d.parentCategories,t=>(u(),n("option",{key:t.id,value:t.id},m(t.name),9,G))),128))],512),[[x,o.value.parent_id]])]),r("div",J,[e[11]||(e[11]=r("label",{for:"sort_order",class:"block text-sm font-medium text-foreground"}," Orden de Visualización ",-1)),r("div",K,[r("button",{type:"button",onClick:h,disabled:o.value.sort_order<=1,class:"rounded-lg border border-border p-2 transition-colors hover:bg-accent disabled:cursor-not-allowed disabled:opacity-50"},[s(i($),{class:"h-4 w-4"})],8,Q),l(r("select",{id:"sort_order","onUpdate:modelValue":e[3]||(e[3]=t=>o.value.sort_order=t),required:"",class:"flex-1 rounded-lg border border-border bg-background px-3 py-2 text-foreground focus:border-transparent focus:ring-2 focus:ring-primary focus:outline-none"},[(u(!0),n(p,null,v(d.availableOrders,t=>(u(),n("option",{key:t,value:t,selected:t===o.value.sort_order},[b(" Posición "+m(t)+" ",1),t===d.category.sort_order?(u(),n("span",W,"(actual)")):E("",!0)],8,R))),128))],512),[[x,o.value.sort_order,void 0,{number:!0}]]),r("button",{type:"button",onClick:C,disabled:o.value.sort_order>=d.maxSortOrder,class:"rounded-lg border border-border p-2 transition-colors hover:bg-accent disabled:cursor-not-allowed disabled:opacity-50"},[s(i(j),{class:"h-4 w-4"})],8,X)]),e[12]||(e[12]=r("p",{class:"text-xs text-muted-foreground"}," Cambiar el orden reordenará automáticamente las demás categorías ",-1))])]),r("div",Y,[e[13]||(e[13]=r("label",{for:"description",class:"block text-sm font-medium text-foreground"}," Descripción ",-1)),l(r("textarea",{id:"description","onUpdate:modelValue":e[4]||(e[4]=t=>o.value.description=t),rows:"3",class:"w-full rounded-lg border border-border bg-background px-3 py-2 text-foreground focus:border-transparent focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Descripción opcional de la categoría..."},null,512),[[g,o.value.description]])]),r("div",Z,[l(r("input",{id:"is_active","onUpdate:modelValue":e[5]||(e[5]=t=>o.value.is_active=t),type:"checkbox",class:"h-4 w-4 rounded border-border text-primary focus:ring-2 focus:ring-primary"},null,512),[[U,o.value.is_active]]),e[14]||(e[14]=r("label",{for:"is_active",class:"text-sm font-medium text-foreground"}," Categoría activa ",-1))]),r("div",ee,[s(i(f),{href:"/admin/categories",class:"rounded-lg border border-border px-4 py-2 text-foreground transition-colors hover:bg-accent"},{default:c(()=>[...e[15]||(e[15]=[b(" Cancelar ",-1)])]),_:1}),r("button",re,[s(i(q),{class:"h-4 w-4"}),e[16]||(e[16]=b(" Actualizar Categoría ",-1))])])],32)])])]),_:1})],64))}});export{Ve as default};
