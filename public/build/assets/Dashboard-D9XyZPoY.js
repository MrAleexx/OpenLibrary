import{C as j,_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dg9vcmqC.js";import{d as $}from"./index-Cs2OOWYa.js";import{d as z,r as L,b as y,e as R,c as a,i as r,u as o,v as E,w as N,g as e,n as l,j as g,o as n,t as i,A as w,h as f,F as _,q as C}from"./app-LMLfy6T_.js";import{B as P,a as x,L as T,_ as F}from"./_plugin-vue_export-helper-Cs5A_DpR.js";import{C as M}from"./circle-alert-CYnwW9m4.js";import{C as B}from"./circle-check-big-BdqqoiHI.js";import{Z as I}from"./zap-BNiA7W6K.js";import{T as U}from"./trending-up-gtAke1Q_.js";import{D as h}from"./download-CbaCTKRJ.js";import{S as q}from"./shield-BepMESMM.js";import{A as v}from"./arrow-right-pOybGjw6.js";import{c as Z}from"./createLucideIcon-DAteRrvL.js";import{S as H}from"./search-SWqZtPYi.js";import{U as O}from"./user-ZOL3awYl.js";import"./utils-DXrZ82kT.js";import"./useForwardExpose-BGfwThGJ.js";import"./VisuallyHidden-B-IbK-2_.js";import"./house-JRBk0Cia.js";import"./Collection-CHrqpE2f.js";import"./index-BP8NaMnx.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-BtwHaQnx.js";import"./log-out-B30-6VwK.js";import"./clock-DEh5UtGW.js";import"./users-DURgrSZU.js";import"./Breadcrumbs.vue_vue_type_script_setup_true_lang-bAsAvttd.js";import"./chevron-right-ti3lw4Bb.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=Z("RotateCcwIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),J={class:"space-y-8 p-6"},K={class:"flex items-center justify-between"},Q={class:"mt-2 flex items-center gap-2 text-muted-foreground"},W={key:0,class:"text-warning ml-2 flex items-center gap-1 text-sm"},X={key:1,class:"text-success ml-2 flex items-center gap-1 text-sm"},Y={class:"flex items-center gap-2 rounded-lg border border-primary/20 bg-primary/10 px-4 py-2 text-primary"},ee={class:"text-sm font-medium"},te={class:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},re={class:"p-6"},oe={class:"flex items-center justify-between"},se={class:"text-3xl font-bold text-foreground"},ae={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 transition-transform duration-300 group-hover:scale-110"},ne={class:"p-6"},ie={class:"flex items-center justify-between"},de={class:"text-3xl font-bold text-foreground"},le={key:0,class:"text-warning mt-2 flex items-center gap-1 text-xs"},ue={key:1,class:"text-success mt-2 flex items-center gap-1 text-xs"},ce={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-secondary/10 transition-transform duration-300 group-hover:scale-110"},me={class:"p-6"},pe={class:"flex items-center justify-between"},ge={class:"text-3xl font-bold text-foreground"},he={class:"mt-2 flex items-center gap-1 text-xs text-muted-foreground"},fe={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 transition-transform duration-300 group-hover:scale-110"},xe={class:"grid grid-cols-1 gap-8 lg:grid-cols-2"},ve={key:0,class:"space-y-4"},be={class:"flex flex-1 items-center gap-4"},ye={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10 transition-transform duration-300 group-hover:scale-110"},we={class:"min-w-0 flex-1"},_e={class:"truncate font-semibold text-foreground"},ke={key:0,class:"truncate text-sm text-muted-foreground"},De={class:"text-xs text-muted-foreground"},je={class:"flex items-center gap-1 text-sm font-medium text-primary transition-all duration-300 group-hover:gap-2 hover:text-primary/80"},Le={key:1,class:"py-8 text-center"},Ce={class:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted"},Me={href:"/books",class:"group inline-flex items-center gap-2 font-medium text-primary transition-colors duration-300 hover:text-primary/80"},Be={key:2,class:"mt-4 border-t border-border pt-4"},Se={href:"/downloads",class:"group flex items-center justify-center gap-2 text-sm font-medium text-primary transition-colors duration-300 hover:text-primary/80"},Ve={key:0,class:"space-y-4"},Ae={class:"flex flex-1 items-center gap-4"},$e={class:"min-w-0 flex-1"},ze={class:"truncate font-semibold text-foreground"},Re={key:0,class:"truncate text-sm text-muted-foreground"},Ee={class:"mt-1 flex items-center gap-2"},Ne={key:1,class:"py-8 text-center"},Pe={class:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted"},Te={href:"/books",class:"group inline-flex items-center gap-2 font-medium text-secondary transition-colors duration-300 hover:text-secondary/80"},Fe={key:2,class:"mt-4 border-t border-border pt-4"},Ie={href:"/loans",class:"group flex items-center justify-center gap-2 text-sm font-medium text-secondary transition-colors duration-300 hover:text-secondary/80"},Ue={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-5"},qe={href:"/books",class:"group relative overflow-hidden rounded-xl border border-border bg-background p-6 text-center transition-all duration-300 hover:-translate-y-1 hover:border-primary/50 hover:shadow-md"},Ze={class:"relative z-10"},He={class:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 transition-transform duration-300 group-hover:scale-110"},Oe={href:"/settings/profile",class:"group relative overflow-hidden rounded-xl border border-border bg-background p-6 text-center transition-all duration-300 hover:-translate-y-1 hover:border-secondary/50 hover:shadow-md"},Ge={class:"relative z-10"},Je={class:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-secondary/10 transition-transform duration-300 group-hover:scale-110"},Ke={href:"/downloads",class:"group relative overflow-hidden rounded-xl border border-border bg-background p-6 text-center transition-all duration-300 hover:-translate-y-1 hover:border-primary/50 hover:shadow-md"},Qe={class:"relative z-10"},We={class:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 transition-transform duration-300 group-hover:scale-110"},Xe={href:"/loans",class:"group relative overflow-hidden rounded-xl border border-border bg-background p-6 text-center transition-all duration-300 hover:-translate-y-1 hover:border-secondary/50 hover:shadow-md"},Ye={class:"relative z-10"},et={class:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-secondary/10 transition-transform duration-300 group-hover:scale-110"},tt={href:"/reservations",class:"group relative overflow-hidden rounded-xl border border-border bg-background p-6 text-center transition-all duration-300 hover:-translate-y-1 hover:border-primary/50 hover:shadow-md"},rt={class:"relative z-10"},ot={class:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 transition-transform duration-300 group-hover:scale-110"},st=z({__name:"Dashboard",props:{recentDownloads:{default:()=>[]},activeLoans:{default:()=>[]},emailVerified:{type:Boolean,default:!1},readingProgress:{default:()=>({read_this_month:0,annual_goal:50,annual_progress:0})},recommendations:{default:()=>[]}},setup(d){const k=d,S=[{title:"Mi Dashboard",href:$().url}],m=L(!1),V=L(new Date),b=y(()=>k.recentDownloads.filter(u=>new Date(u.downloaded_at).toDateString()===V.value.toDateString()).length),D=y(()=>Math.max(0,5-b.value)),p=y(()=>{const u=new Date;return u.setDate(u.getDate()+3),k.activeLoans.filter(t=>new Date(t.due_date)<=u)});return R(()=>{setTimeout(()=>{m.value=!0},100)}),(u,t)=>(n(),a(_,null,[r(o(E),{title:"Mi Dashboard"}),r(A,{breadcrumbs:S},{default:N(()=>[e("div",J,[e("div",{class:l(["animate-slide-up mb-8",{"animate-in":m.value}])},[e("div",K,[e("div",null,[t[3]||(t[3]=e("h1",{class:"text-3xl font-bold text-foreground"}," Mi Biblioteca Digital ",-1)),e("p",Q,[r(o(P),{class:"h-4 w-4 text-primary"}),t[2]||(t[2]=g(" Bienvenido a tu espacio personal de lectura ",-1)),d.emailVerified?(n(),a("span",X,[r(o(B),{class:"h-4 w-4"}),t[1]||(t[1]=g(" Cuenta verificada ",-1))])):(n(),a("span",W,[r(o(M),{class:"h-4 w-4"}),t[0]||(t[0]=g(" (Email no verificado) ",-1))]))])]),e("div",Y,[r(o(I),{class:"h-4 w-4"}),e("span",ee,"Bienvenido, "+i(u.$page.props.auth.user.name),1)])])],2),e("div",te,[e("div",{class:l(["group animate-slide-up overflow-hidden rounded-xl border border-border bg-card shadow-lg transition-all duration-500 hover:-translate-y-1 hover:border-primary/30 hover:shadow-xl",{"animate-in":m.value}]),style:{"animation-delay":"0.1s"}},[e("div",re,[e("div",oe,[e("div",null,[t[4]||(t[4]=e("p",{class:"mb-2 text-sm font-medium text-muted-foreground"}," Descargas Hoy ",-1)),e("p",se,i(b.value)+"/5 ",1),e("div",{class:l(["mt-2 flex items-center gap-1 text-xs",D.value>2?"text-success":"text-warning"])},[r(o(U),{class:"h-3 w-3"}),e("span",null,i(D.value)+" restantes hoy",1)],2)]),e("div",ae,[r(o(h),{class:"h-6 w-6 text-primary"})])])]),e("div",{class:"h-1 bg-gradient-to-r from-primary to-primary/60",style:w({width:`${b.value/5*100}%`})},null,4)],2),e("div",{class:l(["group animate-slide-up overflow-hidden rounded-xl border border-border bg-card shadow-lg transition-all duration-500 hover:-translate-y-1 hover:border-secondary/30 hover:shadow-xl",{"animate-in":m.value}]),style:{"animation-delay":"0.2s"}},[e("div",ne,[e("div",ie,[e("div",null,[t[6]||(t[6]=e("p",{class:"mb-2 text-sm font-medium text-muted-foreground"}," Préstamos Activos ",-1)),e("p",de,i(d.activeLoans.length),1),p.value.length>0?(n(),a("div",le,[r(o(M),{class:"h-3 w-3"}),e("span",null,i(p.value.length)+" por vencer",1)])):(n(),a("div",ue,[r(o(B),{class:"h-3 w-3"}),t[5]||(t[5]=e("span",null,"Al día",-1))]))]),e("div",ce,[r(o(x),{class:"h-6 w-6 text-secondary"})])])]),e("div",{class:"h-1 bg-gradient-to-r from-secondary to-secondary/60",style:w({width:`${d.activeLoans.length/u.$page.props.auth.user.max_concurrent_loans*100}%`})},null,4)],2),e("div",{class:l(["group animate-slide-up overflow-hidden rounded-xl border border-border bg-card shadow-lg transition-all duration-500 hover:-translate-y-1 hover:border-primary/30 hover:shadow-xl",{"animate-in":m.value}]),style:{"animation-delay":"0.3s"}},[e("div",me,[e("div",pe,[e("div",null,[t[7]||(t[7]=e("p",{class:"mb-2 text-sm font-medium text-muted-foreground"}," Límite Préstamos ",-1)),e("p",ge,i(d.activeLoans.length)+"/"+i(u.$page.props.auth.user.max_concurrent_loans),1),e("div",he,[r(o(q),{class:"h-3 w-3"}),e("span",null,i(u.$page.props.auth.user.max_concurrent_loans-d.activeLoans.length)+" disponibles",1)])]),e("div",fe,[r(o(T),{class:"h-6 w-6 text-primary"})])])]),e("div",{class:"h-1 bg-gradient-to-r from-primary to-primary/60",style:w({width:`${d.activeLoans.length/u.$page.props.auth.user.max_concurrent_loans*100}%`})},null,4)],2)]),e("div",xe,[e("div",{class:l(["animate-slide-up rounded-xl border border-border bg-card p-6 shadow-lg",{"animate-in":m.value}]),style:{"animation-delay":"0.4s"}},[t[12]||(t[12]=e("div",{class:"mb-6 flex items-center justify-between"},[e("h2",{class:"text-xl font-bold text-foreground"}," Descargas Recientes "),e("div",{class:"h-2 w-2 animate-pulse rounded-full bg-primary"})],-1)),d.recentDownloads.length>0?(n(),a("div",ve,[(n(!0),a(_,null,C(d.recentDownloads.slice(0,5),s=>(n(),a("div",{key:s.id,class:"group flex items-center justify-between rounded-xl border border-border bg-background p-4 transition-all duration-300 hover:-translate-y-1 hover:border-primary/30 hover:shadow-md"},[e("div",be,[e("div",ye,[r(o(h),{class:"h-5 w-5 text-primary"})]),e("div",we,[e("h3",_e,i(s.book.title),1),s.book.authors?(n(),a("p",ke,i(s.book.authors),1)):f("",!0),e("p",De," Descargado el "+i(new Date(s.downloaded_at).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})),1)])]),e("button",je,[r(o(h),{class:"h-4 w-4"}),t[8]||(t[8]=e("span",{class:"hidden sm:inline"},"Descargar",-1))])]))),128))])):(n(),a("div",Le,[e("div",Ce,[r(o(h),{class:"h-8 w-8 text-muted-foreground"})]),t[10]||(t[10]=e("p",{class:"mb-4 text-muted-foreground"}," Aún no has descargado ningún libro ",-1)),e("a",Me,[t[9]||(t[9]=g(" Explorar catálogo ",-1)),r(o(v),{class:"h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"})])])),d.recentDownloads.length>0?(n(),a("div",Be,[e("a",Se,[t[11]||(t[11]=g(" Ver todas las descargas ",-1)),r(o(v),{class:"h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"})])])):f("",!0)],2),e("div",{class:l(["animate-slide-up rounded-xl border border-border bg-card p-6 shadow-lg",{"animate-in":m.value}]),style:{"animation-delay":"0.5s"}},[t[17]||(t[17]=e("div",{class:"mb-6 flex items-center justify-between"},[e("h2",{class:"text-xl font-bold text-foreground"}," Mis Préstamos Activos "),e("div",{class:"h-2 w-2 animate-pulse rounded-full bg-secondary"})],-1)),d.activeLoans.length>0?(n(),a("div",Ve,[(n(!0),a(_,null,C(d.activeLoans,s=>(n(),a("div",{key:s.id,class:l(["group flex items-center justify-between rounded-xl border border-border bg-background p-4 transition-all duration-300 hover:-translate-y-1 hover:border-secondary/30 hover:shadow-md",{"border-warning/30 hover:border-warning/50":p.value.some(c=>c.id===s.id)}])},[e("div",Ae,[e("div",{class:l(["flex h-10 w-10 items-center justify-center rounded-lg bg-secondary/10 transition-transform duration-300 group-hover:scale-110",{"bg-warning/10":p.value.some(c=>c.id===s.id)}])},[r(o(x),{class:l(["h-5 w-5 text-secondary",{"text-warning":p.value.some(c=>c.id===s.id)}])},null,8,["class"])],2),e("div",$e,[e("h3",ze,i(s.physical_copy.book.title),1),s.physical_copy.book.authors?(n(),a("p",Re,i(s.physical_copy.book.authors),1)):f("",!0),e("div",Ee,[r(o(j),{class:"h-3 w-3 text-muted-foreground"}),e("p",{class:l(["text-xs",p.value.some(c=>c.id===s.id)?"text-warning font-medium":"text-muted-foreground"])}," Vence el "+i(new Date(s.due_date).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})),3)])])]),e("button",{class:l(["flex items-center gap-1 text-sm font-medium text-secondary transition-all duration-300 group-hover:gap-2 hover:text-secondary/80",{"text-warning hover:text-warning/80":p.value.some(c=>c.id===s.id)}])},[r(o(G),{class:"h-4 w-4"}),t[13]||(t[13]=e("span",{class:"hidden sm:inline"},"Renovar",-1))],2)],2))),128))])):(n(),a("div",Ne,[e("div",Pe,[r(o(x),{class:"h-8 w-8 text-muted-foreground"})]),t[15]||(t[15]=e("p",{class:"mb-4 text-muted-foreground"}," No tienes préstamos activos ",-1)),e("a",Te,[t[14]||(t[14]=g(" Buscar libros físicos ",-1)),r(o(v),{class:"h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"})])])),d.activeLoans.length>0?(n(),a("div",Fe,[e("a",Ie,[t[16]||(t[16]=g(" Ver todos mis préstamos ",-1)),r(o(v),{class:"h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"})])])):f("",!0)],2)]),e("div",{class:l(["animate-slide-up rounded-xl border border-border bg-card p-6 shadow-lg",{"animate-in":m.value}]),style:{"animation-delay":"0.6s"}},[t[28]||(t[28]=e("h2",{class:"mb-6 text-xl font-bold text-foreground"}," Acciones Rápidas ",-1)),e("div",Ue,[e("a",qe,[t[19]||(t[19]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"},null,-1)),e("div",Ze,[e("div",He,[r(o(H),{class:"h-6 w-6 text-primary"})]),t[18]||(t[18]=e("h3",{class:"font-semibold text-foreground transition-colors duration-300 group-hover:text-primary"}," Explorar Catálogo ",-1))])]),e("a",Oe,[t[21]||(t[21]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-secondary/5 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"},null,-1)),e("div",Ge,[e("div",Je,[r(o(O),{class:"h-6 w-6 text-secondary"})]),t[20]||(t[20]=e("h3",{class:"font-semibold text-foreground transition-colors duration-300 group-hover:text-secondary"}," Mi Perfil ",-1))])]),e("a",Ke,[t[23]||(t[23]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"},null,-1)),e("div",Qe,[e("div",We,[r(o(h),{class:"h-6 w-6 text-primary"})]),t[22]||(t[22]=e("h3",{class:"font-semibold text-foreground transition-colors duration-300 group-hover:text-primary"}," Mis Descargas ",-1))])]),e("a",Xe,[t[25]||(t[25]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-secondary/5 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"},null,-1)),e("div",Ye,[e("div",et,[r(o(x),{class:"h-6 w-6 text-secondary"})]),t[24]||(t[24]=e("h3",{class:"font-semibold text-foreground transition-colors duration-300 group-hover:text-secondary"}," Mis Préstamos ",-1))])]),e("a",tt,[t[27]||(t[27]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"},null,-1)),e("div",rt,[e("div",ot,[r(o(j),{class:"h-6 w-6 text-primary"})]),t[26]||(t[26]=e("h3",{class:"font-semibold text-foreground transition-colors duration-300 group-hover:text-primary"}," Mis Reservas ",-1))])])])],2)])]),_:1})],64))}}),At=F(st,[["__scopeId","data-v-c07000b5"]]);export{At as default};
