import{_ as x}from"./index-Dr7hifzf.js";import{_ as g}from"./index-ByX7PKqW.js";import{c as m,_ as y,a as v,b as f}from"./CardTitle.vue_vue_type_script_setup_true_lang-RZ9trK3M.js";import{_ as k}from"./CardDescription.vue_vue_type_script_setup_true_lang-CV9uiqH5.js";import{C as T,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-D0s4Pvhb.js";import{d as O,c as u,i as t,w as r,g as a,t as d,u as e,v as J,j as o,l as p,n as w,f as h,h as N,o as i,k as K,F as M,q as L}from"./app-2QXCfeMG.js";import{U as S}from"./user-CAt4kc2M.js";import{A as Q}from"./arrow-left-CWKWrJMG.js";import{S as P}from"./square-pen-JCw1GlaG.js";import{M as B}from"./mail-IJu_7AsB.js";import{I as W,U as Y}from"./user-x-CYoFe60q.js";import{c as j}from"./createLucideIcon-CganvotL.js";import{B as D,a as Z}from"./_plugin-vue_export-helper-D6Za-jf_.js";import{S as ee}from"./shield-sNOBoAws.js";import{U as V}from"./users-BtwuLIeb.js";import{U as te}from"./user-check-CMP4i0Y4.js";import{D as C}from"./download-B-fWZjdw.js";import{C as se}from"./circle-x-yQtUAzs4.js";import{C as ae}from"./clock-7_ft3SL5.js";import{T as re}from"./trending-up-DABNfu_E.js";import{R as le}from"./refresh-cw-7T5blb2a.js";import{H as oe}from"./history-dyi7Ka4q.js";import"./utils-BtbbqlUx.js";import"./useForwardExpose-WdC8WNUR.js";import"./VisuallyHidden-BVvg5NBU.js";import"./house-Jt9P1-Sj.js";import"./Collection-p-5Ft2RQ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-Bsye0hv5.js";import"./index-Cs2OOWYa.js";import"./log-out-BvlH2FDg.js";import"./AppLogoPng.vue_vue_type_script_setup_true_lang-DV5UP9ty.js";import"./Breadcrumbs.vue_vue_type_script_setup_true_lang-DAJcy_Cp.js";import"./chevron-right-CD5--JLw.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=j("BuildingIcon",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=j("CalendarDaysIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=j("CreditCardIcon",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=j("PhoneIcon",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ne={class:"space-y-6 p-6"},ue={class:"flex items-center justify-between"},me={class:"mt-2 flex items-center gap-2 text-muted-foreground"},fe={class:"flex items-center gap-3"},ce={class:"grid grid-cols-1 gap-6 lg:grid-cols-4"},xe={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},ge={class:"space-y-1"},pe={class:"text-lg font-semibold text-foreground"},be={class:"space-y-1"},he={class:"flex items-center gap-2 font-medium text-foreground"},ye={class:"space-y-1"},ve={class:"flex items-center gap-2 font-medium text-foreground"},we={class:"space-y-1"},_e={class:"flex items-center gap-2 font-medium text-foreground"},ke={class:"border-t border-border pt-6"},De={class:"mb-4 flex items-center gap-2 font-semibold text-foreground"},Ce={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Me={class:"space-y-1"},je={class:"flex items-center gap-2 font-medium text-foreground"},Ie={class:"space-y-1"},Le={class:"flex items-center gap-2 font-medium text-foreground"},Se={class:"space-y-1"},Re={class:"space-y-1"},$e={class:"flex items-center gap-2 font-medium text-foreground"},Ee={class:"border-t border-border pt-6"},Ue={class:"flex flex-wrap gap-3"},Te={class:"space-y-6 lg:col-span-2"},Ne={class:"grid grid-cols-2 gap-4"},Pe={class:"flex items-center justify-between"},Be={class:"text-2xl font-bold text-foreground"},Ve={class:"flex items-center justify-between"},Ae={class:"text-2xl font-bold text-foreground"},ze={class:"flex items-center justify-between"},He={class:"text-2xl font-bold text-foreground"},qe={class:"flex items-center justify-between"},Fe={class:"text-2xl font-bold text-foreground"},Xe={class:"flex justify-between"},Ge={class:"font-medium"},Oe={class:"flex justify-between"},Je={class:"font-medium"},Ke={class:"flex justify-between"},Qe={class:"font-medium"},We={class:"flex justify-between"},Ye={class:"font-medium"},Ze={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},et={key:0,class:"space-y-3"},tt={class:"min-w-0 flex-1"},st={class:"truncate text-sm font-medium text-foreground"},at={class:"text-xs text-muted-foreground"},rt={key:1,class:"py-8 text-center text-muted-foreground"},lt={key:0,class:"space-y-3"},ot={class:"mb-2 flex items-start justify-between"},dt={class:"min-w-0 flex-1 pr-2 text-sm font-medium text-foreground"},it={class:"space-y-1 text-xs text-muted-foreground"},nt={key:1,class:"py-8 text-center text-muted-foreground"},ut={key:0,class:"space-y-3"},mt={class:"mb-2 flex items-start justify-between"},ft={class:"min-w-0 flex-1 pr-2 text-sm font-medium text-foreground"},ct={class:"space-y-1 text-xs text-muted-foreground"},xt={key:1,class:"py-8 text-center text-muted-foreground"},gt={class:"flex flex-wrap justify-center gap-4"},Qt=O({__name:"Show",props:{user:{},recentDownloads:{},activeLoans:{},activeReservations:{},loanHistory:{},stats:{}},setup(l){const _=l,H=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Usuarios",href:"/admin/users"},{title:`Detalles de ${_.user.name}`,href:"#"}],q={student:"Estudiante",teacher:"Docente",external:"Externo",staff:"Staff"},F={student:"bg-blue-500/10 text-blue-600 border-blue-200 dark:bg-blue-500/20 dark:text-blue-400 dark:border-blue-800",teacher:"bg-emerald-500/10 text-emerald-600 border-emerald-200 dark:bg-emerald-500/20 dark:text-emerald-400 dark:border-emerald-800",external:"bg-orange-500/10 text-orange-600 border-orange-200 dark:bg-orange-500/20 dark:text-orange-400 dark:border-orange-800",staff:"bg-purple-500/10 text-purple-600 border-purple-200 dark:bg-purple-500/20 dark:text-purple-400 dark:border-purple-800"},X={student:V,teacher:ee,external:S,staff:A};function b(c){return new Date(c).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}function R(c){return new Date(c).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function I(){return _.user.membership_expires_at?new Date(_.user.membership_expires_at)<new Date:!1}function $(){return _.user.temp_password_expires_at?new Date(_.user.temp_password_expires_at)<new Date:!1}function E(c){return c.status==="returned"?{variant:"outline",class:"bg-green-500/10 text-green-600 border-green-200",label:"Devuelto"}:c.status==="overdue"?{variant:"destructive",class:"bg-red-500/10 text-red-600 border-red-200",label:"Vencido"}:{variant:"outline",class:"bg-blue-500/10 text-blue-600 border-blue-200",label:"Activo"}}function U(c){return{pending:{variant:"outline",class:"bg-yellow-500/10 text-yellow-600 border-yellow-200",label:"Pendiente"},ready_for_pickup:{variant:"outline",class:"bg-blue-500/10 text-blue-600 border-blue-200",label:"Listo para recoger"},picked_up:{variant:"outline",class:"bg-green-500/10 text-green-600 border-green-200",label:"Recogido"},cancelled:{variant:"destructive",class:"bg-red-500/10 text-red-600 border-red-200",label:"Cancelado"},expired:{variant:"destructive",class:"bg-red-500/10 text-red-600 border-red-200",label:"Expirado"}}[c.status]||{variant:"outline",label:c.status}}return(c,s)=>(i(),u(M,null,[t(e(J),null,{default:r(()=>[a("title",null,"Detalles de Usuario - "+d(l.user.name),1)]),_:1}),t(G,{breadcrumbs:H},{default:r(()=>[a("div",ne,[a("div",ue,[a("div",null,[s[0]||(s[0]=a("h1",{class:"text-3xl font-bold text-foreground"}," Detalles de Usuario ",-1)),a("p",me,[t(e(S),{class:"h-4 w-4 text-primary"}),o(" Información completa de "+d(l.user.name)+" "+d(l.user.last_name),1)])]),a("div",fe,[t(e(g),{variant:"outline","as-child":""},{default:r(()=>[t(e(p),{href:"/admin/users"},{default:r(()=>[t(e(Q),{class:"mr-2 h-4 w-4"}),s[1]||(s[1]=o(" Volver a Usuarios ",-1))]),_:1})]),_:1}),t(e(g),{"as-child":""},{default:r(()=>[t(e(p),{href:`/admin/users/${l.user.id}/edit`},{default:r(()=>[t(e(P),{class:"mr-2 h-4 w-4"}),s[2]||(s[2]=o(" Editar Usuario ",-1))]),_:1},8,["href"])]),_:1})])]),a("div",ce,[t(e(m),{class:"lg:col-span-2"},{default:r(()=>[t(e(y),{class:"border-b border-border bg-muted/50"},{default:r(()=>[t(e(v),{class:"flex items-center gap-2 text-foreground"},{default:r(()=>[t(e(S),{class:"h-5 w-5 text-primary"}),s[3]||(s[3]=o(" Información Personal ",-1))]),_:1}),t(e(k),null,{default:r(()=>[...s[4]||(s[4]=[o(" Datos básicos y de contacto del usuario ",-1)])]),_:1})]),_:1}),t(e(f),{class:"space-y-6 pt-6"},{default:r(()=>[a("div",xe,[a("div",ge,[s[5]||(s[5]=a("p",{class:"text-sm font-medium text-muted-foreground"}," Nombre completo ",-1)),a("p",pe,d(l.user.name)+" "+d(l.user.last_name),1)]),a("div",be,[s[6]||(s[6]=a("p",{class:"text-sm font-medium text-muted-foreground"}," Email principal ",-1)),a("p",he,[t(e(B),{class:"h-4 w-4 text-blue-500"}),o(" "+d(l.user.email),1)])]),a("div",ye,[s[7]||(s[7]=a("p",{class:"text-sm font-medium text-muted-foreground"}," DNI ",-1)),a("p",ve,[t(e(W),{class:"h-4 w-4 text-green-500"}),o(" "+d(l.user.dni),1)])]),a("div",we,[s[8]||(s[8]=a("p",{class:"text-sm font-medium text-muted-foreground"}," Teléfono ",-1)),a("p",_e,[t(e(ie),{class:"h-4 w-4 text-purple-500"}),o(" "+d(l.user.phone),1)])])]),a("div",ke,[a("h4",De,[t(e(A),{class:"h-4 w-4 text-orange-500"}),s[9]||(s[9]=o(" Información Institucional ",-1))]),a("div",Ce,[a("div",Me,[s[10]||(s[10]=a("p",{class:"text-sm font-medium text-muted-foreground"}," Email Institucional ",-1)),a("p",je,[t(e(B),{class:"h-4 w-4 text-blue-500"}),o(" "+d(l.user.institutional_email||"No especificado"),1)])]),a("div",Ie,[s[11]||(s[11]=a("p",{class:"text-sm font-medium text-muted-foreground"}," Código Institucional ",-1)),a("p",Le,[t(e(de),{class:"h-4 w-4 text-green-500"}),o(" "+d(l.user.institutional_id||"No especificado"),1)])]),a("div",Se,[s[13]||(s[13]=a("p",{class:"text-sm font-medium text-muted-foreground"}," Membresía hasta ",-1)),a("p",{class:w(["flex items-center gap-2 font-medium",I()?"text-destructive":"text-foreground"])},[t(e(T),{class:w(["h-4 w-4",I()?"text-destructive":"text-green-500"])},null,8,["class"]),o(" "+d(l.user.membership_expires_at?b(l.user.membership_expires_at):"Sin fecha de expiración")+" ",1),I()?(i(),h(e(x),{key:0,variant:"destructive",class:"ml-2"},{default:r(()=>[...s[12]||(s[12]=[o(" Expirado ",-1)])]),_:1})):N("",!0)],2)]),a("div",Re,[s[14]||(s[14]=a("p",{class:"text-sm font-medium text-muted-foreground"}," Máximo de Préstamos ",-1)),a("p",$e,[t(e(D),{class:"h-4 w-4 text-purple-500"}),o(" "+d(l.user.max_concurrent_loans)+" libros ",1)])])])]),a("div",Ee,[s[19]||(s[19]=a("h4",{class:"mb-4 font-semibold text-foreground"}," Estado y Tipo ",-1)),a("div",Ue,[t(e(x),{class:w([F[l.user.user_type],"border font-medium"])},{default:r(()=>[(i(),h(K(X[l.user.user_type]),{class:"mr-1 h-3 w-3"})),o(" "+d(q[l.user.user_type]),1)]),_:1},8,["class"]),l.user.is_active?(i(),h(e(x),{key:0,variant:"outline",class:"border-green-200 bg-green-500/10 text-green-600"},{default:r(()=>[t(e(te),{class:"mr-1 h-3 w-3"}),s[15]||(s[15]=o(" Activo ",-1))]),_:1})):(i(),h(e(x),{key:1,variant:"destructive"},{default:r(()=>[t(e(Y),{class:"mr-1 h-3 w-3"}),s[16]||(s[16]=o(" Inactivo ",-1))]),_:1})),l.user.can_download?(i(),h(e(x),{key:2,variant:"outline",class:"border-blue-200 bg-blue-500/10 text-blue-600"},{default:r(()=>[t(e(C),{class:"mr-1 h-3 w-3"}),s[17]||(s[17]=o(" Puede descargar ",-1))]),_:1})):(i(),h(e(x),{key:3,variant:"outline",class:"border-gray-200 bg-gray-500/10 text-gray-600"},{default:r(()=>[t(e(se),{class:"mr-1 h-3 w-3"}),s[18]||(s[18]=o(" Sin descargas ",-1))]),_:1})),l.user.is_temp_password?(i(),h(e(x),{key:4,variant:"outline",class:w($()?"border-red-200 bg-red-500/10 text-red-600":"border-amber-200 bg-amber-500/10 text-amber-600")},{default:r(()=>[t(e(ae),{class:"mr-1 h-3 w-3"}),o(" "+d($()?"Contraseña temporal expirada":"Contraseña temporal"),1)]),_:1},8,["class"])):N("",!0)])])]),_:1})]),_:1}),a("div",Te,[a("div",Ne,[t(e(m),{class:"border-blue-200 bg-gradient-to-br from-blue-500/10 to-blue-600/5"},{default:r(()=>[t(e(f),{class:"p-4"},{default:r(()=>[a("div",Pe,[a("div",null,[s[20]||(s[20]=a("p",{class:"mb-1 text-sm font-medium text-blue-600"}," Descargas Totales ",-1)),a("p",Be,d(l.stats.total_downloads),1)]),t(e(C),{class:"h-8 w-8 text-blue-500"})])]),_:1})]),_:1}),t(e(m),{class:"border-emerald-200 bg-gradient-to-br from-emerald-500/10 to-emerald-600/5"},{default:r(()=>[t(e(f),{class:"p-4"},{default:r(()=>[a("div",Ve,[a("div",null,[s[21]||(s[21]=a("p",{class:"mb-1 text-sm font-medium text-emerald-600"}," Préstamos Totales ",-1)),a("p",Ae,d(l.stats.total_loans),1)]),t(e(D),{class:"h-8 w-8 text-emerald-500"})])]),_:1})]),_:1}),t(e(m),{class:"border-purple-200 bg-gradient-to-br from-purple-500/10 to-purple-600/5"},{default:r(()=>[t(e(f),{class:"p-4"},{default:r(()=>[a("div",ze,[a("div",null,[s[22]||(s[22]=a("p",{class:"mb-1 text-sm font-medium text-purple-600"}," Reservas Totales ",-1)),a("p",He,d(l.stats.total_reservations),1)]),t(e(T),{class:"h-8 w-8 text-purple-500"})])]),_:1})]),_:1}),t(e(m),{class:"border-orange-200 bg-gradient-to-br from-orange-500/10 to-orange-600/5"},{default:r(()=>[t(e(f),{class:"p-4"},{default:r(()=>[a("div",qe,[a("div",null,[s[23]||(s[23]=a("p",{class:"mb-1 text-sm font-medium text-orange-600"}," Descargas Hoy ",-1)),a("p",Fe,d(l.stats.downloads_today),1)]),t(e(re),{class:"h-8 w-8 text-orange-500"})])]),_:1})]),_:1})]),t(e(m),null,{default:r(()=>[t(e(y),null,{default:r(()=>[t(e(v),{class:"text-foreground"},{default:r(()=>[...s[24]||(s[24]=[o("Acciones Rápidas",-1)])]),_:1}),t(e(k),null,{default:r(()=>[...s[25]||(s[25]=[o(" Gestiona rápidamente este usuario ",-1)])]),_:1})]),_:1}),t(e(f),{class:"space-y-3"},{default:r(()=>[t(e(g),{variant:"outline",class:"w-full justify-start","as-child":""},{default:r(()=>[t(e(p),{href:`/admin/users/${l.user.id}/edit`},{default:r(()=>[t(e(P),{class:"mr-2 h-4 w-4"}),s[26]||(s[26]=o(" Editar información ",-1))]),_:1},8,["href"])]),_:1}),t(e(g),{variant:"outline",class:"w-full justify-start","as-child":""},{default:r(()=>[t(e(p),{href:`/admin/users/${l.user.id}/download-history`},{default:r(()=>[t(e(C),{class:"mr-2 h-4 w-4"}),s[27]||(s[27]=o(" Ver historial de descargas ",-1))]),_:1},8,["href"])]),_:1}),t(e(g),{variant:"outline",class:"w-full justify-start","as-child":""},{default:r(()=>[t(e(p),{href:`/admin/users/${l.user.id}/loan-history`},{default:r(()=>[t(e(D),{class:"mr-2 h-4 w-4"}),s[28]||(s[28]=o(" Ver historial de préstamos ",-1))]),_:1},8,["href"])]),_:1}),t(e(g),{variant:"outline",class:"w-full justify-start","as-child":""},{default:r(()=>[t(e(p),{href:`/admin/users/${l.user.id}/reset-password`,method:"patch",as:"button"},{default:r(()=>[t(e(le),{class:"mr-2 h-4 w-4"}),s[29]||(s[29]=o(" Resetear contraseña ",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1}),t(e(m),null,{default:r(()=>[t(e(y),null,{default:r(()=>[t(e(v),{class:"text-foreground"},{default:r(()=>[...s[30]||(s[30]=[o("Información del Sistema",-1)])]),_:1})]),_:1}),t(e(f),{class:"space-y-3 text-sm"},{default:r(()=>[a("div",Xe,[s[31]||(s[31]=a("span",{class:"text-muted-foreground"},"Registrado el:",-1)),a("span",Ge,d(b(l.user.created_at)),1)]),a("div",Oe,[s[32]||(s[32]=a("span",{class:"text-muted-foreground"},"Última actualización:",-1)),a("span",Je,d(b(l.user.updated_at)),1)]),a("div",Ke,[s[33]||(s[33]=a("span",{class:"text-muted-foreground"},"Último acceso:",-1)),a("span",Qe,d(l.user.last_login_at?R(l.user.last_login_at):"Nunca"),1)]),a("div",We,[s[34]||(s[34]=a("span",{class:"text-muted-foreground"},"Creado por:",-1)),a("span",Ye,d(l.user.creator?.name||"Sistema"),1)])]),_:1})]),_:1})])]),a("div",Ze,[t(e(m),{class:"lg:col-span-1"},{default:r(()=>[t(e(y),null,{default:r(()=>[t(e(v),{class:"flex items-center gap-2 text-foreground"},{default:r(()=>[t(e(C),{class:"h-5 w-5 text-blue-500"}),s[35]||(s[35]=o(" Descargas Recientes ",-1))]),_:1}),t(e(k),null,{default:r(()=>[o(d(l.recentDownloads.length)+" descargas recientes ",1)]),_:1})]),_:1}),t(e(f),null,{default:r(()=>[l.recentDownloads.length>0?(i(),u("div",et,[(i(!0),u(M,null,L(l.recentDownloads,n=>(i(),u("div",{key:n.id,class:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-accent/50"},[a("div",tt,[a("p",st,d(n.book?.title||"Libro no disponible"),1),a("p",at,d(R(n.downloaded_at)),1)])]))),128))])):(i(),u("div",rt,[t(e(C),{class:"mx-auto mb-3 h-12 w-12 opacity-50"}),s[36]||(s[36]=a("p",null,"No hay descargas recientes",-1))]))]),_:1})]),_:1}),t(e(m),{class:"lg:col-span-1"},{default:r(()=>[t(e(y),null,{default:r(()=>[t(e(v),{class:"flex items-center gap-2 text-foreground"},{default:r(()=>[t(e(D),{class:"h-5 w-5 text-emerald-500"}),s[37]||(s[37]=o(" Préstamos Activos ",-1))]),_:1}),t(e(k),null,{default:r(()=>[o(d(l.activeLoans.length)+" préstamos en curso ",1)]),_:1})]),_:1}),t(e(f),null,{default:r(()=>[l.activeLoans.length>0?(i(),u("div",lt,[(i(!0),u(M,null,L(l.activeLoans,n=>(i(),u("div",{key:n.id,class:"rounded-lg border border-border p-3 transition-colors hover:bg-accent/50"},[a("div",ot,[a("p",dt,d(n.physical_copy?.book?.title||"Libro no disponible"),1),t(e(x),{class:w([E(n).class,"text-xs"])},{default:r(()=>[o(d(E(n).label),1)]),_:2},1032,["class"])]),a("div",it,[a("p",null," Vence: "+d(b(n.due_date)),1),a("p",null," Préstamo: "+d(b(n.loan_date)),1)])]))),128))])):(i(),u("div",nt,[t(e(D),{class:"mx-auto mb-3 h-12 w-12 opacity-50"}),s[38]||(s[38]=a("p",null,"No hay préstamos activos",-1))]))]),_:1})]),_:1}),t(e(m),{class:"lg:col-span-1"},{default:r(()=>[t(e(y),null,{default:r(()=>[t(e(v),{class:"flex items-center gap-2 text-foreground"},{default:r(()=>[t(e(z),{class:"h-5 w-5 text-purple-500"}),s[39]||(s[39]=o(" Reservas Activas ",-1))]),_:1}),t(e(k),null,{default:r(()=>[o(d(l.activeReservations.length)+" reservas pendientes ",1)]),_:1})]),_:1}),t(e(f),null,{default:r(()=>[l.activeReservations.length>0?(i(),u("div",ut,[(i(!0),u(M,null,L(l.activeReservations,n=>(i(),u("div",{key:n.id,class:"rounded-lg border border-border p-3 transition-colors hover:bg-accent/50"},[a("div",mt,[a("p",ft,d(n.book?.title||"Libro no disponible"),1),t(e(x),{class:w([U(n).class,"text-xs"])},{default:r(()=>[o(d(U(n).label),1)]),_:2},1032,["class"])]),a("div",ct,[a("p",null," Reserva: "+d(b(n.reservation_date)),1),a("p",null," Recoger antes: "+d(b(n.pickup_deadline)),1)])]))),128))])):(i(),u("div",xt,[t(e(z),{class:"mx-auto mb-3 h-12 w-12 opacity-50"}),s[40]||(s[40]=a("p",null,"No hay reservas activas",-1))]))]),_:1})]),_:1})]),t(e(m),null,{default:r(()=>[t(e(f),{class:"p-6"},{default:r(()=>[a("div",gt,[t(e(g),{variant:"outline","as-child":""},{default:r(()=>[t(e(p),{href:`/admin/users/${l.user.id}/download-history`,class:"flex items-center gap-2"},{default:r(()=>[t(e(oe),{class:"h-4 w-4"}),s[41]||(s[41]=o(" Historial Completo de Descargas ",-1))]),_:1},8,["href"])]),_:1}),t(e(g),{variant:"outline","as-child":""},{default:r(()=>[t(e(p),{href:`/admin/users/${l.user.id}/loan-history`,class:"flex items-center gap-2"},{default:r(()=>[t(e(Z),{class:"h-4 w-4"}),s[42]||(s[42]=o(" Historial Completo de Préstamos ",-1))]),_:1},8,["href"])]),_:1}),t(e(g),{variant:"outline","as-child":""},{default:r(()=>[t(e(p),{href:"/admin/users",class:"flex items-center gap-2"},{default:r(()=>[t(e(V),{class:"h-4 w-4"}),s[43]||(s[43]=o(" Volver al Listado ",-1))]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1})],64))}});export{Qt as default};
